<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reportes y EstadÃ­sticas - Gimnasio Cuerpo Sano</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <link rel="stylesheet" href="../assets/css/reportesEstadisticas.css">
</head>

<body>
  <header>
    <h1>ğŸ“Š Reportes y EstadÃ­sticas</h1>
    <p>Sistema de GestiÃ³n - Gimnasio Cuerpo Sano</p>
  </header>

  <main class="container">
    <section class="card">
      <div class="card-header">
        <h2>ğŸ” ConfiguraciÃ³n del Reporte</h2>
      </div>
      <div class="card-body">
        <form id="reportForm">
          <div class="form-grid">
            <div class="form-group">
              <label for="tipoReporte">Tipo de Reporte</label>
              <select id="tipoReporte" name="tipoReporte" required>
                <option value="ingresos">ğŸ’° Ingresos (Pagos)</option>
                <option value="asistencia">ğŸ§¾ Asistencia de Miembros</option>
                <option value="inscripciones">ğŸ“ Inscripciones a Clases</option>
                <option value="membresias">ğŸªª MembresÃ­as Activas</option>
              </select>
            </div>

            <div class="form-group">
              <label for="periodo">Periodo</label>
              <select id="periodo" name="periodo">
                <option value="diario">Ãšltimas 24 horas</option>
                <option value="semanal">Ãšltima semana</option>
                <option value="mensual" selected>Ãšltimo mes</option>
                <option value="trimestral">Ãšltimo trimestre</option>
                <option value="anual">Ãšltimo aÃ±o</option>
              </select>
            </div>

            <div class="form-group">
              <label for="fechaInicio">Fecha Inicio</label>
              <input type="date" id="fechaInicio" name="fechaInicio" required />
            </div>

            <div class="form-group">
              <label for="fechaFin">Fecha Fin</label>
              <input type="date" id="fechaFin" name="fechaFin" required />
            </div>
          </div>

          <div class="button-group">
            <button type="button" class="btn btn-primary" id="btnGenerar">âœ… Generar Reporte</button>
            <button type="button" class="btn btn-secondary" id="btnExportar">â¬‡ï¸ Exportar CSV</button>
            <button type="button" class="btn btn-print" id="btnImprimir">ğŸ–¨ï¸ Imprimir</button>
            <button type="reset" class="btn btn-clear" id="btnLimpiar">ğŸ§¹ Limpiar</button>
          </div>
        </form>
      </div>
    </section>

    <section class="metrics-container">
      <div class="metric-card">
        <div class="metric-icon">ğŸ’µ</div>
        <div class="metric-label">TOTAL</div>
        <div class="metric-value" id="metricTotal">$0.00</div>
      </div>
      <div class="metric-card">
        <div class="metric-icon">ğŸ“Š</div>
        <div class="metric-label">REGISTROS</div>
        <div class="metric-value" id="metricCount">0</div>
      </div>
      <div class="metric-card">
        <div class="metric-icon">ğŸ“ˆ</div>
        <div class="metric-label">PROMEDIO</div>
        <div class="metric-value" id="metricAvg">$0.00</div>
      </div>
      <div class="metric-card">
        <div class="metric-icon">ğŸ”„</div>
        <div class="metric-label">VARIACIÃ“N</div>
        <div class="metric-value" id="metricVariation">0%</div>
      </div>
    </section>

    <section class="card">
      <div class="card-header">
        <h2>ğŸ“‘ Datos Detallados</h2>
        <div class="search-box">
          <input type="text" id="searchInput" placeholder="ğŸ” Buscar en resultados..." />
        </div>
      </div>
      <div class="card-body">
        <div class="table-responsive">
          <table id="tablaResultados">
            <thead>
              <tr>
                <th>FECHA</th>
                <th>DETALLE</th>
                <th>VALOR</th>
                <th>ESTADO</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td colspan="4" class="no-data">
                  <div class="empty-state">
                    <div class="empty-icon">ğŸ“Š</div>
                    <p>No hay datos generados</p>
                    <small>Selecciona un tipo de reporte y haz clic en â€œGenerar Reporteâ€.</small>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <section class="charts-grid">
      <div class="card">
        <div class="card-header">
          <h2>ğŸ§© DistribuciÃ³n por CategorÃ­a</h2>
        </div>
        <div class="card-body">
          <div class="chart-container">
            <canvas id="graficoDistribucion"></canvas>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h2>ğŸ“ˆ EvoluciÃ³n Temporal</h2>
        </div>
        <div class="card-body">
          <div class="chart-container">
            <canvas id="graficoTemporal"></canvas>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Gimnasio Cuerpo Sano - Sistema de GestiÃ³n</p>
  </footer>

  <div id="loadingOverlay" class="loading-overlay">
    <div class="spinner"></div>
    <p>Generando reporte...</p>
  </div>

  <script src="../assets/js/reportes_estadisticas.js" defer></script>
</body>
</html>


